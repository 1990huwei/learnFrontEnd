# 第3天：Web标准与无障碍性学习指南

## 学习目标
- 理解Web标准的重要性和发展历程
- 掌握HTML文档验证和最佳实践
- 学习Web无障碍性(Accessibility)的基本概念
- 了解ARIA属性的使用
- 能够创建对所有用户友好的网页

## 学习时长
- **总时长**: 2-3小时
- **上午理论学习**: 1.5小时
- **下午实践练习**: 1.5小时

## 前置知识
- 熟悉HTML5基础语法
- 掌握语义化标签的使用
- 了解表格和表单的创建

## 理论知识学习

### 1. Web标准概述

**什么是Web标准？**
- 由W3C（万维网联盟）制定的技术规范
- 确保网页在不同浏览器中的一致性
- 包括HTML、CSS、JavaScript等技术标准
- 促进Web的开放性和互操作性

**Web标准的重要性：**
1. **跨浏览器兼容性**：确保网页在各种浏览器中正常显示
2. **可维护性**：标准化的代码更容易维护和更新
3. **可访问性**：遵循标准有助于提高网页的可访问性
4. **SEO优化**：搜索引擎更容易理解标准化的网页
5. **未来兼容性**：符合标准的网页更容易适应新技术

**HTML5标准的特点：**
- 简化的DOCTYPE声明
- 新增语义化标签
- 增强的表单功能
- 原生多媒体支持
- 更好的API支持

### 2. HTML文档验证

**为什么要验证HTML？**
- 确保代码符合W3C标准
- 发现潜在的错误和问题
- 提高网页的兼容性和稳定性
- 改善SEO表现

**常见的HTML错误：**

```html
<!-- 错误示例 -->

<!-- 1. 未闭合的标签 -->
<p>这是一个段落
<div>这是一个div

<!-- 2. 标签嵌套错误 -->
<p><div>段落中不能包含div</div></p>

<!-- 3. 属性值未加引号 -->
<img src=image.jpg alt=图片>

<!-- 4. 重复的id属性 -->
<div id="content">内容1</div>
<div id="content">内容2</div>

<!-- 5. 无效的属性 -->
<p color="red">红色文字</p>
```

```html
<!-- 正确示例 -->

<!-- 1. 正确闭合标签 -->
<p>这是一个段落</p>
<div>这是一个div</div>

<!-- 2. 正确的标签嵌套 -->
<div><p>div中包含段落</p></div>

<!-- 3. 属性值加引号 -->
<img src="image.jpg" alt="图片">

<!-- 4. 唯一的id属性 -->
<div id="content1">内容1</div>
<div id="content2">内容2</div>

<!-- 5. 使用CSS而非HTML属性 -->
<p style="color: red;">红色文字</p>
```

**HTML验证工具：**
1. **W3C Markup Validator**: https://validator.w3.org/
2. **HTML5 Validator**: https://html5.validator.nu/
3. **VS Code扩展**: HTMLHint, W3C Web Validator

### 3. Web无障碍性(Accessibility)

**什么是Web无障碍性？**
- 确保所有人都能使用网页，包括残障人士
- 涵盖视觉、听觉、运动和认知障碍
- 不仅帮助残障人士，也改善所有用户的体验

**无障碍性的四个原则（POUR）：**
1. **可感知(Perceivable)**：信息必须能被用户感知
2. **可操作(Operable)**：界面组件必须可操作
3. **可理解(Understandable)**：信息和UI操作必须可理解
4. **健壮(Robust)**：内容必须足够健壮，能被各种辅助技术解析

**常见的无障碍性问题：**
- 图片缺少alt属性
- 颜色对比度不足
- 缺少键盘导航支持
- 表单缺少标签
- 链接文本不明确

### 4. 无障碍性最佳实践

**图片的无障碍性：**

```html
<!-- 内容图片 -->
<img src="chart.png" alt="2024年销售数据显示第一季度增长了25%">

<!-- 装饰性图片 -->
<img src="decoration.png" alt="" role="presentation">

<!-- 复杂图片 -->
<figure>
    <img src="complex-chart.png" alt="详细销售图表">
    <figcaption>
        <p>图表显示了2024年各季度的销售数据：</p>
        <ul>
            <li>第一季度：100万</li>
            <li>第二季度：125万</li>
            <li>第三季度：150万</li>
            <li>第四季度：175万</li>
        </ul>
    </figcaption>
</figure>
```

**链接的无障碍性：**

```html
<!-- 不好的链接文本 -->
<a href="article.html">点击这里</a>
<a href="download.pdf">更多信息</a>

<!-- 好的链接文本 -->
<a href="article.html">阅读完整的HTML5教程文章</a>
<a href="download.pdf">下载前端学习指南PDF (2MB)</a>

<!-- 外部链接提示 -->
<a href="https://example.com" target="_blank" rel="noopener">
    访问外部网站
    <span class="sr-only">(在新窗口中打开)</span>
</a>
```

**表单的无障碍性：**

```html
<form>
    <!-- 正确的标签关联 -->
    <label for="username">用户名 *</label>
    <input type="text" id="username" name="username" required 
           aria-describedby="username-help">
    <div id="username-help">用户名必须是3-20个字符</div>
    
    <!-- 单选按钮组 -->
    <fieldset>
        <legend>选择您的性别</legend>
        <input type="radio" id="male" name="gender" value="male">
        <label for="male">男</label>
        
        <input type="radio" id="female" name="gender" value="female">
        <label for="female">女</label>
        
        <input type="radio" id="other" name="gender" value="other">
        <label for="other">其他</label>
    </fieldset>
    
    <!-- 错误提示 -->
    <div role="alert" aria-live="polite" id="error-message">
        <!-- 错误信息会在这里显示 -->
    </div>
    
    <button type="submit">提交表单</button>
</form>
```

**导航的无障碍性：**

```html
<nav aria-label="主导航">
    <ul>
        <li><a href="/" aria-current="page">首页</a></li>
        <li><a href="/about">关于我们</a></li>
        <li><a href="/services">服务</a></li>
        <li><a href="/contact">联系我们</a></li>
    </ul>
</nav>

<!-- 跳转链接 -->
<a href="#main-content" class="skip-link">跳转到主要内容</a>

<main id="main-content">
    <!-- 主要内容 -->
</main>
```

### 5. ARIA属性详解

**什么是ARIA？**
- Accessible Rich Internet Applications
- 为动态内容和复杂UI组件提供无障碍性支持
- 通过属性为辅助技术提供额外信息

**常用ARIA属性：**

**角色属性(role)：**
```html
<!-- 按钮角色 -->
<div role="button" tabindex="0">自定义按钮</div>

<!-- 警告角色 -->
<div role="alert">重要提示信息</div>

<!-- 标签页角色 -->
<div role="tablist">
    <div role="tab" aria-selected="true">标签1</div>
    <div role="tab" aria-selected="false">标签2</div>
</div>

<!-- 对话框角色 -->
<div role="dialog" aria-labelledby="dialog-title">
    <h2 id="dialog-title">确认删除</h2>
    <p>您确定要删除这个项目吗？</p>
</div>
```

**状态属性：**
```html
<!-- 展开/折叠状态 -->
<button aria-expanded="false" aria-controls="menu">菜单</button>
<ul id="menu" aria-hidden="true">
    <li>菜单项1</li>
    <li>菜单项2</li>
</ul>

<!-- 选中状态 -->
<div role="checkbox" aria-checked="false" tabindex="0">自定义复选框</div>

<!-- 禁用状态 -->
<button aria-disabled="true">禁用按钮</button>

<!-- 加载状态 -->
<div aria-busy="true">正在加载...</div>
```

**关系属性：**
```html
<!-- 标签关系 -->
<h2 id="billing">账单地址</h2>
<fieldset aria-labelledby="billing">
    <!-- 表单字段 -->
</fieldset>

<!-- 描述关系 -->
<input type="password" aria-describedby="pwd-help">
<div id="pwd-help">密码必须包含至少8个字符</div>

<!-- 控制关系 -->
<button aria-controls="sidebar" aria-expanded="false">切换侧边栏</button>
<aside id="sidebar">
    <!-- 侧边栏内容 -->
</aside>
```

**实时区域：**
```html
<!-- 礼貌的实时更新 -->
<div aria-live="polite" id="status">
    <!-- 状态更新会在这里显示 -->
</div>

<!-- 紧急的实时更新 -->
<div aria-live="assertive" id="error">
    <!-- 错误信息会在这里显示 -->
</div>

<!-- 原子更新 -->
<div aria-live="polite" aria-atomic="true" id="timer">
    剩余时间：05:30
</div>
```

### 6. 键盘导航支持

**基本键盘导航：**
- Tab键：移动到下一个可聚焦元素
- Shift+Tab：移动到上一个可聚焦元素
- Enter/Space：激活按钮或链接
- 箭头键：在相关元素间导航

**实现键盘导航：**

```html
<!-- 可聚焦的自定义元素 -->
<div class="custom-button" tabindex="0" role="button" 
     onkeydown="handleKeyDown(event)">
    自定义按钮
</div>

<script>
function handleKeyDown(event) {
    // Enter键或空格键激活按钮
    if (event.key === 'Enter' || event.key === ' ') {
        event.preventDefault();
        // 执行按钮功能
        console.log('按钮被激活');
    }
}
</script>

<!-- 跳过链接 -->
<style>
.skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: #000;
    color: #fff;
    padding: 8px;
    text-decoration: none;
    z-index: 1000;
}

.skip-link:focus {
    top: 6px;
}
</style>

<a href="#main-content" class="skip-link">跳转到主要内容</a>
```

## 实践练习

### 练习1：创建无障碍的新闻网站

**任务：创建一个符合无障碍性标准的新闻网站首页**

创建`accessible-news.html`文件：

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>无障碍新闻网站 - 首页</title>
    <style>
        /* 跳过链接样式 */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #000;
            color: #fff;
            padding: 8px;
            text-decoration: none;
            z-index: 1000;
        }
        .skip-link:focus {
            top: 6px;
        }
        
        /* 屏幕阅读器专用文本 */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* 焦点可见性 */
        :focus {
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }
        
        /* 基本样式 */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: #333;
            color: #fff;
            padding: 1rem 0;
        }
        
        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
        }
        
        nav li {
            margin-right: 2rem;
        }
        
        nav a {
            color: #fff;
            text-decoration: none;
        }
        
        nav a:hover, nav a:focus {
            text-decoration: underline;
        }
        
        main {
            padding: 2rem 0;
        }
        
        .news-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .news-item {
            border: 1px solid #ddd;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .news-item img {
            max-width: 100%;
            height: auto;
        }
        
        .alert {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        footer {
            background: #333;
            color: #fff;
            text-align: center;
            padding: 2rem 0;
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <!-- 跳过链接 -->
    <a href="#main-content" class="skip-link">跳转到主要内容</a>
    
    <header>
        <div class="container">
            <h1>无障碍新闻网站</h1>
            <nav aria-label="主导航">
                <ul>
                    <li><a href="/" aria-current="page">首页</a></li>
                    <li><a href="/politics">政治</a></li>
                    <li><a href="/technology">科技</a></li>
                    <li><a href="/sports">体育</a></li>
                    <li><a href="/culture">文化</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <main id="main-content">
        <div class="container">
            <!-- 重要通知 -->
            <div role="alert" class="alert">
                <h2>重要通知</h2>
                <p>本网站已通过WCAG 2.1 AA级无障碍性认证，为所有用户提供平等的信息获取体验。</p>
            </div>
            
            <section aria-labelledby="breaking-news">
                <h2 id="breaking-news">突发新闻</h2>
                
                <article class="news-item">
                    <header>
                        <h3><a href="/news/1">科技公司发布新的无障碍技术标准</a></h3>
                        <p>
                            <time datetime="2024-01-15T14:30:00">2024年1月15日 14:30</time>
                            <span class="sr-only">发布时间</span>
                        </p>
                    </header>
                    
                    <figure>
                        <img src="images/tech-accessibility.jpg" 
                             alt="一群开发者在讨论无障碍技术，屏幕上显示着代码和设计图">
                        <figcaption>开发团队正在讨论新的无障碍技术标准</figcaption>
                    </figure>
                    
                    <p>今天，多家科技公司联合发布了新的Web无障碍技术标准，旨在让互联网对所有用户更加友好...</p>
                    
                    <footer>
                        <p>记者：<span>李明</span></p>
                        <p>标签：
                            <a href="/tag/technology">#科技</a>
                            <a href="/tag/accessibility">#无障碍</a>
                            <a href="/tag/standards">#标准</a>
                        </p>
                    </footer>
                </article>
                
                <article class="news-item">
                    <header>
                        <h3><a href="/news/2">教育部推出在线学习无障碍指南</a></h3>
                        <p>
                            <time datetime="2024-01-15T12:00:00">2024年1月15日 12:00</time>
                            <span class="sr-only">发布时间</span>
                        </p>
                    </header>
                    
                    <p>教育部今日发布了《在线学习平台无障碍设计指南》，为教育机构提供了详细的无障碍设计标准...</p>
                    
                    <details>
                        <summary>查看更多详情</summary>
                        <p>该指南涵盖了视觉、听觉、运动和认知障碍用户的需求，提供了具体的实施建议和技术要求。</p>
                        <ul>
                            <li>视频内容必须提供字幕和手语翻译</li>
                            <li>所有交互元素必须支持键盘导航</li>
                            <li>颜色对比度必须符合WCAG标准</li>
                            <li>提供多种格式的学习材料</li>
                        </ul>
                    </details>
                    
                    <footer>
                        <p>记者：<span>王芳</span></p>
                        <p>标签：
                            <a href="/tag/education">#教育</a>
                            <a href="/tag/accessibility">#无障碍</a>
                            <a href="/tag/online-learning">#在线学习</a>
                        </p>
                    </footer>
                </article>
            </section>
            
            <div class="news-grid">
                <section aria-labelledby="latest-news">
                    <h2 id="latest-news">最新新闻</h2>
                    
                    <article class="news-item">
                        <h3><a href="/news/3">全球无障碍意识日活动成功举办</a></h3>
                        <p>
                            <time datetime="2024-01-14">昨天</time>
                            - 全球多个城市同时举办了无障碍意识日活动...
                        </p>
                    </article>
                    
                    <article class="news-item">
                        <h3><a href="/news/4">新型辅助技术帮助视障用户浏览网页</a></h3>
                        <p>
                            <time datetime="2024-01-13">2天前</time>
                            - 研究人员开发出新的屏幕阅读技术...
                        </p>
                    </article>
                </section>
                
                <aside aria-labelledby="sidebar-title">
                    <h2 id="sidebar-title">相关链接</h2>
                    
                    <section aria-labelledby="accessibility-resources">
                        <h3 id="accessibility-resources">无障碍资源</h3>
                        <ul>
                            <li><a href="https://www.w3.org/WAI/" 
                                   target="_blank" rel="noopener">
                                W3C Web无障碍倡议
                                <span class="sr-only">(在新窗口中打开)</span>
                            </a></li>
                            <li><a href="https://webaim.org/" 
                                   target="_blank" rel="noopener">
                                WebAIM无障碍指南
                                <span class="sr-only">(在新窗口中打开)</span>
                            </a></li>
                            <li><a href="/accessibility-guide">本站无障碍使用指南</a></li>
                        </ul>
                    </section>
                    
                    <section aria-labelledby="tools">
                        <h3 id="tools">辅助工具</h3>
                        <ul>
                            <li><button type="button" onclick="increaseFontSize()">
                                增大字体
                            </button></li>
                            <li><button type="button" onclick="decreaseFontSize()">
                                减小字体
                            </button></li>
                            <li><button type="button" onclick="toggleHighContrast()">
                                高对比度模式
                            </button></li>
                        </ul>
                    </section>
                    
                    <section aria-labelledby="contact">
                        <h3 id="contact">联系我们</h3>
                        <address>
                            <p>无障碍支持热线：
                                <a href="tel:+1234567890">123-456-7890</a>
                            </p>
                            <p>邮箱：
                                <a href="mailto:accessibility@news.com">
                                    accessibility@news.com
                                </a>
                            </p>
                        </address>
                    </section>
                </aside>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2024 无障碍新闻网站. 保留所有权利.</p>
            <nav aria-label="页脚导航">
                <ul style="list-style: none; padding: 0; display: flex; justify-content: center; gap: 2rem;">
                    <li><a href="/privacy" style="color: #fff;">隐私政策</a></li>
                    <li><a href="/terms" style="color: #fff;">使用条款</a></li>
                    <li><a href="/accessibility" style="color: #fff;">无障碍声明</a></li>
                    <li><a href="/sitemap" style="color: #fff;">网站地图</a></li>
                </ul>
            </nav>
        </div>
    </footer>
    
    <script>
        // 字体大小调整功能
        let currentFontSize = 16;
        
        function increaseFontSize() {
            currentFontSize += 2;
            document.body.style.fontSize = currentFontSize + 'px';
            announceToScreenReader('字体已增大');
        }
        
        function decreaseFontSize() {
            if (currentFontSize > 12) {
                currentFontSize -= 2;
                document.body.style.fontSize = currentFontSize + 'px';
                announceToScreenReader('字体已减小');
            }
        }
        
        // 高对比度模式
        function toggleHighContrast() {
            document.body.classList.toggle('high-contrast');
            const isHighContrast = document.body.classList.contains('high-contrast');
            announceToScreenReader(isHighContrast ? '已启用高对比度模式' : '已关闭高对比度模式');
        }
        
        // 向屏幕阅读器宣布信息
        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.className = 'sr-only';
            announcement.textContent = message;
            
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }
    </script>
    
    <style>
        /* 高对比度模式样式 */
        .high-contrast {
            background: #000 !important;
            color: #fff !important;
        }
        
        .high-contrast a {
            color: #ffff00 !important;
        }
        
        .high-contrast .news-item {
            border-color: #fff !important;
            background: #000 !important;
        }
    </style>
</body>
</html>
```

### 练习2：验证HTML文档

**任务：使用W3C验证器检查HTML文档**

1. 访问 [W3C Markup Validator](https://validator.w3.org/)
2. 选择"Validate by File Upload"或"Validate by Direct Input"
3. 上传或粘贴你的HTML代码
4. 点击"Check"按钮
5. 查看验证结果并修复错误

**常见验证错误及修复：**

```html
<!-- 错误：缺少alt属性 -->
<img src="image.jpg">

<!-- 修复：添加alt属性 -->
<img src="image.jpg" alt="图片描述">

<!-- 错误：重复的id -->
<div id="content">内容1</div>
<div id="content">内容2</div>

<!-- 修复：使用唯一的id -->
<div id="content1">内容1</div>
<div id="content2">内容2</div>

<!-- 错误：未闭合的标签 -->
<p>段落内容
<div>div内容</div>

<!-- 修复：正确闭合标签 -->
<p>段落内容</p>
<div>div内容</div>
```

### 练习3：创建无障碍表单

**任务：创建一个完全无障碍的注册表单**

创建`accessible-form.html`文件：

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>无障碍注册表单</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }
        
        .required {
            color: #d63384;
        }
        
        .help-text {
            font-size: 0.875rem;
            color: #666;
            margin-top: 0.25rem;
        }
        
        .error {
            color: #d63384;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
        
        .success {
            color: #198754;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
        
        fieldset {
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        legend {
            font-weight: bold;
            padding: 0 0.5rem;
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .radio-item, .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .radio-item input, .checkbox-item input {
            width: auto;
        }
        
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
        }
        
        button:hover {
            background: #0056b3;
        }
        
        button:focus {
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <header>
        <h1>用户注册</h1>
        <p>请填写以下信息完成注册。标有 <span class="required">*</span> 的字段为必填项。</p>
    </header>
    
    <main>
        <form id="registration-form" novalidate>
            <!-- 实时状态更新区域 -->
            <div aria-live="polite" aria-atomic="true" id="form-status" class="sr-only"></div>
            
            <fieldset>
                <legend>基本信息</legend>
                
                <div class="form-group">
                    <label for="username">
                        用户名 <span class="required" aria-label="必填">*</span>
                    </label>
                    <input type="text" 
                           id="username" 
                           name="username" 
                           required 
                           aria-describedby="username-help username-error"
                           autocomplete="username">
                    <div id="username-help" class="help-text">
                        用户名必须是3-20个字符，只能包含字母、数字和下划线
                    </div>
                    <div id="username-error" class="error" role="alert" aria-live="polite"></div>
                </div>
                
                <div class="form-group">
                    <label for="email">
                        邮箱地址 <span class="required" aria-label="必填">*</span>
                    </label>
                    <input type="email" 
                           id="email" 
                           name="email" 
                           required 
                           aria-describedby="email-help email-error"
                           autocomplete="email">
                    <div id="email-help" class="help-text">
                        请输入有效的邮箱地址，用于账户验证和重要通知
                    </div>
                    <div id="email-error" class="error" role="alert" aria-live="polite"></div>
                </div>
                
                <div class="form-group">
                    <label for="password">
                        密码 <span class="required" aria-label="必填">*</span>
                    </label>
                    <input type="password" 
                           id="password" 
                           name="password" 
                           required 
                           aria-describedby="password-help password-error"
                           autocomplete="new-password">
                    <div id="password-help" class="help-text">
                        密码必须至少8个字符，包含大小写字母、数字和特殊字符
                    </div>
                    <div id="password-error" class="error" role="alert" aria-live="polite"></div>
                </div>
                
                <div class="form-group">
                    <label for="confirm-password">
                        确认密码 <span class="required" aria-label="必填">*</span>
                    </label>
                    <input type="password" 
                           id="confirm-password" 
                           name="confirm-password" 
                           required 
                           aria-describedby="confirm-password-error"
                           autocomplete="new-password">
                    <div id="confirm-password-error" class="error" role="alert" aria-live="polite"></div>
                </div>
            </fieldset>
            
            <fieldset>
                <legend>个人信息</legend>
                
                <div class="form-group">
                    <label for="full-name">
                        真实姓名 <span class="required" aria-label="必填">*</span>
                    </label>
                    <input type="text" 
                           id="full-name" 
                           name="full-name" 
                           required 
                           aria-describedby="full-name-error"
                           autocomplete="name">
                    <div id="full-name-error" class="error" role="alert" aria-live="polite"></div>
                </div>
                
                <div class="form-group">
                    <label for="phone">
                        手机号码
                    </label>
                    <input type="tel" 
                           id="phone" 
                           name="phone" 
                           aria-describedby="phone-help"
                           autocomplete="tel">
                    <div id="phone-help" class="help-text">
                        可选，用于账户安全验证
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="birth-date">
                        出生日期
                    </label>
                    <input type="date" 
                           id="birth-date" 
                           name="birth-date" 
                           aria-describedby="birth-date-help"
                           autocomplete="bday">
                    <div id="birth-date-help" class="help-text">
                        可选，用于年龄验证和个性化服务
                    </div>
                </div>
            </fieldset>
            
            <fieldset>
                <legend>性别</legend>
                <div class="radio-group" role="radiogroup" aria-required="false">
                    <div class="radio-item">
                        <input type="radio" id="gender-male" name="gender" value="male">
                        <label for="gender-male">男</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="gender-female" name="gender" value="female">
                        <label for="gender-female">女</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="gender-other" name="gender" value="other">
                        <label for="gender-other">其他</label>
                    </div>
                    <div class="radio-item">
                        <input type="radio" id="gender-prefer-not" name="gender" value="prefer-not-to-say">
                        <label for="gender-prefer-not">不愿透露</label>
                    </div>
                </div>
            </fieldset>
            
            <fieldset>
                <legend>兴趣爱好</legend>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="interest-tech" name="interests" value="technology">
                        <label for="interest-tech">科技</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="interest-sports" name="interests" value="sports">
                        <label for="interest-sports">体育</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="interest-music" name="interests" value="music">
                        <label for="interest-music">音乐</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="interest-reading" name="interests" value="reading">
                        <label for="interest-reading">阅读</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="interest-travel" name="interests" value="travel">
                        <label for="interest-travel">旅行</label>
                    </div>
                </div>
            </fieldset>
            
            <div class="form-group">
                <label for="bio">
                    个人简介
                </label>
                <textarea id="bio" 
                          name="bio" 
                          rows="4" 
                          aria-describedby="bio-help"
                          maxlength="500"></textarea>
                <div id="bio-help" class="help-text">
                    可选，最多500个字符。简单介绍一下自己吧！
                </div>
            </div>
            
            <fieldset>
                <legend>协议和条款</legend>
                
                <div class="checkbox-item">
                    <input type="checkbox" 
                           id="terms" 
                           name="terms" 
                           required 
                           aria-describedby="terms-error">
                    <label for="terms">
                        我已阅读并同意 <a href="/terms" target="_blank" rel="noopener">用户协议</a> 和 <a href="/privacy" target="_blank" rel="noopener">隐私政策</a>
                        <span class="required" aria-label="必填">*</span>
                    </label>
                    <div id="terms-error" class="error" role="alert" aria-live="polite"></div>
                </div>
                
                <div class="checkbox-item">
                    <input type="checkbox" id="newsletter" name="newsletter">
                    <label for="newsletter">
                        订阅我们的新闻通讯（可选）
                    </label>
                </div>
            </fieldset>
            
            <div class="form-group">
                <button type="submit">注册账户</button>
                <button type="reset">重置表单</button>
            </div>
        </form>
    </main>
    
    <script>
        // 表单验证脚本
        const form = document.getElementById('registration-form');
        const statusDiv = document.getElementById('form-status');
        
        // 实时验证函数
        function validateField(field) {
            const errorDiv = document.getElementById(field.id + '-error');
            let isValid = true;
            let errorMessage = '';
            
            // 清除之前的错误
            errorDiv.textContent = '';
            field.setAttribute('aria-invalid', 'false');
            
            // 必填字段检查
            if (field.hasAttribute('required') && !field.value.trim()) {
                isValid = false;
                errorMessage = '此字段为必填项';
            }
            
            // 特定字段验证
            switch (field.type) {
                case 'email':
                    if (field.value && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(field.value)) {
                        isValid = false;
                        errorMessage = '请输入有效的邮箱地址';
                    }
                    break;
                    
                case 'password':
                    if (field.value && field.value.length < 8) {
                        isValid = false;
                        errorMessage = '密码至少需要8个字符';
                    }
                    break;
                    
                case 'text':
                    if (field.name === 'username' && field.value) {
                        if (field.value.length < 3 || field.value.length > 20) {
                            isValid = false;
                            errorMessage = '用户名必须是3-20个字符';
                        } else if (!/^[a-zA-Z0-9_]+$/.test(field.value)) {
                            isValid = false;
                            errorMessage = '用户名只能包含字母、数字和下划线';
                        }
                    }
                    break;
            }
            
            // 确认密码验证
            if (field.name === 'confirm-password') {
                const password = document.getElementById('password').value;
                if (field.value && field.value !== password) {
                    isValid = false;
                    errorMessage = '两次输入的密码不一致';
                }
            }
            
            // 显示错误信息
            if (!isValid) {
                errorDiv.textContent = errorMessage;
                field.setAttribute('aria-invalid', 'true');
            }
            
            return isValid;
        }
        
        // 为所有输入字段添加事件监听器
        const inputs = form.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
            input.addEventListener('blur', () => validateField(input));
            input.addEventListener('input', () => {
                // 延迟验证，避免用户输入时频繁提示错误
                clearTimeout(input.validationTimeout);
                input.validationTimeout = setTimeout(() => {
                    validateField(input);
                }, 500);
            });
        });
        
        // 表单提交处理
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            let isFormValid = true;
            
            // 验证所有字段
            inputs.forEach(input => {
                if (!validateField(input)) {
                    isFormValid = false;
                }
            });
            
            // 检查必填的复选框
            const termsCheckbox = document.getElementById('terms');
            if (!termsCheckbox.checked) {
                const termsError = document.getElementById('terms-error');
                termsError.textContent = '必须同意用户协议和隐私政策';
                termsCheckbox.setAttribute('aria-invalid', 'true');
                isFormValid = false;
            }
            
            if (isFormValid) {
                statusDiv.textContent = '表单验证通过，正在提交...';
                statusDiv.className = 'success';
                
                // 模拟表单提交
                setTimeout(() => {
                    statusDiv.textContent = '注册成功！欢迎加入我们。';
                }, 1000);
            } else {
                statusDiv.textContent = '表单包含错误，请检查并修正后重新提交。';
                statusDiv.className = 'error';
                
                // 聚焦到第一个错误字段
                const firstError = form.querySelector('[aria-invalid="true"]');
                if (firstError) {
                    firstError.focus();
                }
            }
        });
        
        // 重置表单处理
        form.addEventListener('reset', () => {
            // 清除所有错误信息
            const errorDivs = form.querySelectorAll('.error');
            errorDivs.forEach(div => div.textContent = '');
            
            // 清除aria-invalid属性
            inputs.forEach(input => {
                input.removeAttribute('aria-invalid');
            });
            
            statusDiv.textContent = '表单已重置';
            statusDiv.className = '';
        });
    </script>
</body>
</html>
```

## 学习检查点

### 知识点检查
- [ ] 理解Web标准的重要性
- [ ] 掌握HTML文档验证方法
- [ ] 了解无障碍性的四个原则(POUR)
- [ ] 熟悉常用ARIA属性
- [ ] 能够实现键盘导航支持

### 实践技能检查
- [ ] 能够创建符合W3C标准的HTML文档
- [ ] 正确使用ARIA属性增强无障碍性
- [ ] 实现完整的键盘导航
- [ ] 为图片、链接、表单提供无障碍支持
- [ ] 创建对屏幕阅读器友好的网页

### 常见问题解答

**Q: 所有图片都需要alt属性吗？**
A: 是的，但装饰性图片可以使用空的alt属性（alt=""）和role="presentation"。

**Q: 什么时候使用ARIA属性？**
A: 当HTML语义不足以表达内容含义时，或者创建自定义组件时使用ARIA属性。

**Q: 如何测试网页的无障碍性？**
A: 使用屏幕阅读器、键盘导航、无障碍性检测工具（如axe、WAVE）进行测试。

**Q: 颜色对比度有什么要求？**
A: WCAG 2.1 AA级要求正常文本对比度至少4.5:1，大文本至少3:1。

## 参考资源

### 官方文档
- [W3C Web无障碍倡议](https://www.w3.org/WAI/)
- [WCAG 2.1指南](https://www.w3.org/WAI/WCAG21/quickref/)
- [ARIA规范](https://www.w3.org/TR/wai-aria-1.1/)

### 验证工具
- [W3C Markup Validator](https://validator.w3.org/)
- [WAVE Web无障碍评估工具](https://wave.webaim.org/)
- [axe DevTools](https://www.deque.com/axe/devtools/)

### 学习资源
- [WebAIM无障碍指南](https://webaim.org/)
- [A11y Project](https://www.a11yproject.com/)
- [MDN无障碍指南](https://developer.mozilla.org/zh-CN/docs/Web/Accessibility)

## 明天预习

明天我们将学习：
- SEO优化基础
- 网页性能优化
- HTML5现代工具和技术
- 项目实践和总结

建议今晚：
1. 使用屏幕阅读器测试你的网页
2. 尝试只用键盘浏览网页
3. 使用验证工具检查代码质量

---

**记住：无障碍性不是额外的工作，而是优秀Web开发的基本要求！**